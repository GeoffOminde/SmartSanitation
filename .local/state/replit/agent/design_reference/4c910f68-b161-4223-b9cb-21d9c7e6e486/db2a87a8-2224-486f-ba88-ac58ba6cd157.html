<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartSan - Fleet Management Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
    tailwind.config = {
        theme: {
            extend: {
                borderRadius: {
                    lg: "var(--radius)",
                    md: "calc(var(--radius) - 2px)",
                    sm: "calc(var(--radius) - 4px)",
                },
                colors: {
                    background: "var(--background)",
                    foreground: "var(--foreground)",
                    card: {
                        DEFAULT: "var(--card)",
                        foreground: "var(--card-foreground)",
                    },
                    popover: {
                        DEFAULT: "var(--popover)",
                        foreground: "var(--popover-foreground)",
                    },
                    primary: {
                        DEFAULT: "var(--primary)",
                        foreground: "var(--primary-foreground)",
                    },
                    secondary: {
                        DEFAULT: "var(--secondary)",
                        foreground: "var(--secondary-foreground)",
                    },
                    muted: {
                        DEFAULT: "var(--muted)",
                        foreground: "var(--muted-foreground)",
                    },
                    accent: {
                        DEFAULT: "var(--accent)",
                        foreground: "var(--accent-foreground)",
                    },
                    destructive: {
                        DEFAULT: "var(--destructive)",
                        foreground: "var(--destructive-foreground)",
                    },
                    border: "var(--border)",
                    input: "var(--input)",
                    ring: "var(--ring)",
                    chart: {
                        "1": "var(--chart-1)",
                        "2": "var(--chart-2)",
                        "3": "var(--chart-3)",
                        "4": "var(--chart-4)",
                        "5": "var(--chart-5)",
                    }
                },
                fontFamily: {
                    sans: ["var(--font-sans)"],
                }
            },
        }
    };
    </script>
    <style>
        :root {
            --background: hsl(210 40% 98%);
            --foreground: hsl(222.2 84% 4.9%);
            --card: hsl(0 0% 100%);
            --card-foreground: hsl(222.2 84% 4.9%);
            --popover: hsl(0 0% 100%);
            --popover-foreground: hsl(222.2 84% 4.9%);
            --primary: hsl(221.2 83.2% 53.3%);
            --primary-foreground: hsl(210 40% 98%);
            --secondary: hsl(210 40% 96%);
            --secondary-foreground: hsl(222.2 84% 4.9%);
            --muted: hsl(210 40% 96%);
            --muted-foreground: hsl(215.4 16.3% 46.9%);
            --accent: hsl(142.1 76.2% 36.3%);
            --accent-foreground: hsl(355.7 100% 97.3%);
            --destructive: hsl(0 84.2% 60.2%);
            --destructive-foreground: hsl(210 40% 98%);
            --border: hsl(214.3 31.8% 91.4%);
            --input: hsl(214.3 31.8% 91.4%);
            --ring: hsl(221.2 83.2% 53.3%);
            --radius: 0.5rem;
            --font-sans: 'Inter', system-ui, -apple-system, sans-serif;
        }
        
        .dark {
            --background: hsl(222.2 84% 4.9%);
            --foreground: hsl(210 40% 98%);
            --card: hsl(222.2 84% 4.9%);
            --card-foreground: hsl(210 40% 98%);
            --popover: hsl(222.2 84% 4.9%);
            --popover-foreground: hsl(210 40% 98%);
            --primary: hsl(217.2 91.2% 59.8%);
            --primary-foreground: hsl(222.2 84% 4.9%);
            --secondary: hsl(217.2 32.6% 17.5%);
            --secondary-foreground: hsl(210 40% 98%);
            --muted: hsl(217.2 32.6% 17.5%);
            --muted-foreground: hsl(215 20.2% 65.1%);
            --accent: hsl(142.1 70.6% 45.3%);
            --accent-foreground: hsl(210 40% 98%);
            --destructive: hsl(0 62.8% 30.6%);
            --destructive-foreground: hsl(210 40% 98%);
            --border: hsl(217.2 32.6% 17.5%);
            --input: hsl(217.2 32.6% 17.5%);
            --ring: hsl(224.3 76.3% 94.1%);
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
</head>
<body class="bg-background text-foreground font-sans">
    <!-- @COMPONENT: MainLayout [responsive layout with sidebar navigation] -->
    <div class="flex h-screen bg-background">
        <!-- Sidebar Navigation -->
        <!-- @COMPONENT: Sidebar [collapsible navigation with role-based menu items] -->
        <div class="hidden lg:flex lg:w-64 lg:flex-col">
            <div class="flex flex-col flex-grow bg-card border-r border-border pt-5 pb-4 overflow-y-auto">
                <div class="flex items-center flex-shrink-0 px-4">
                    <div class="flex items-center">
                        <div class="w-8 h-8 bg-primary rounded-lg flex items-center justify-center">
                            <i class="fas fa-toilet text-primary-foreground"></i>
                        </div>
                        <span class="ml-3 text-xl font-semibold text-foreground">SmartSan</span>
                    </div>
                </div>
                <nav class="mt-8 flex-1 px-2 space-y-1">
                    <a href="#" class="bg-accent text-accent-foreground group flex items-center px-2 py-2 text-sm font-medium rounded-md">
                        <i class="fas fa-tachometer-alt mr-3 flex-shrink-0 h-4 w-4"></i>
                        Dashboard
                    </a>
                    <a href="#" class="text-muted-foreground hover:bg-secondary group flex items-center px-2 py-2 text-sm font-medium rounded-md">
                        <i class="fas fa-map-marked-alt mr-3 flex-shrink-0 h-4 w-4"></i>
                        Fleet Map
                    </a>
                    <a href="#" class="text-muted-foreground hover:bg-secondary group flex items-center px-2 py-2 text-sm font-medium rounded-md">
                        <i class="fas fa-route mr-3 flex-shrink-0 h-4 w-4"></i>
                        Routes
                    </a>
                    <a href="#" class="text-muted-foreground hover:bg-secondary group flex items-center px-2 py-2 text-sm font-medium rounded-md">
                        <i class="fas fa-calendar-check mr-3 flex-shrink-0 h-4 w-4"></i>
                        Bookings
                    </a>
                    <a href="#" class="text-muted-foreground hover:bg-secondary group flex items-center px-2 py-2 text-sm font-medium rounded-md">
                        <i class="fas fa-chart-bar mr-3 flex-shrink-0 h-4 w-4"></i>
                        Analytics
                    </a>
                    <a href="#" class="text-muted-foreground hover:bg-secondary group flex items-center px-2 py-2 text-sm font-medium rounded-md">
                        <i class="fas fa-tools mr-3 flex-shrink-0 h-4 w-4"></i>
                        Maintenance
                    </a>
                    <a href="#" class="text-muted-foreground hover:bg-secondary group flex items-center px-2 py-2 text-sm font-medium rounded-md">
                        <i class="fas fa-users mr-3 flex-shrink-0 h-4 w-4"></i>
                        Team
                    </a>
                    <a href="#" class="text-muted-foreground hover:bg-secondary group flex items-center px-2 py-2 text-sm font-medium rounded-md">
                        <i class="fas fa-cog mr-3 flex-shrink-0 h-4 w-4"></i>
                        Settings
                    </a>
                </nav>
            </div>
        </div>
        <!-- @END_COMPONENT: Sidebar -->

        <!-- Main Content Area -->
        <div class="flex flex-col w-0 flex-1 overflow-hidden">
            <!-- @COMPONENT: TopNavbar [user menu, notifications, mobile menu toggle] -->
            <div class="relative z-10 flex-shrink-0 flex h-16 bg-card border-b border-border shadow-sm">
                <button class="border-r border-border px-4 text-muted-foreground focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary lg:hidden">
                    <i class="fas fa-bars h-6 w-6"></i>
                </button>
                <div class="flex-1 px-4 flex justify-between items-center">
                    <div class="flex-1 flex">
                        <div class="w-full flex md:ml-0">
                            <div class="relative w-full text-muted-foreground focus-within:text-foreground">
                                <div class="absolute inset-y-0 left-0 flex items-center pointer-events-none">
                                    <i class="fas fa-search h-5 w-5"></i>
                                </div>
                                <input class="block w-full pl-8 pr-3 py-2 border border-input rounded-md leading-5 bg-background placeholder-muted-foreground focus:outline-none focus:placeholder-muted-foreground focus:ring-1 focus:ring-ring focus:border-input sm:text-sm" placeholder="Search units, routes, bookings..." type="search">
                            </div>
                        </div>
                    </div>
                    <div class="ml-4 flex items-center md:ml-6">
                        <!-- Notifications -->
                        <button class="bg-card p-1 rounded-full text-muted-foreground hover:text-foreground focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary">
                            <i class="fas fa-bell h-6 w-6"></i>
                            <span class="absolute -mt-2 ml-2 px-1.5 py-0.5 bg-destructive text-destructive-foreground text-xs rounded-full">3</span>
                        </button>
                        
                        <!-- Profile dropdown -->
                        <div class="ml-3 relative">
                            <div class="flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary">
                                <img class="h-8 w-8 rounded-full" src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80" alt="User avatar">
                                <span class="ml-2 text-foreground font-medium" data-bind="user.name">James Mwangi</span>
                                <i class="ml-1 fas fa-chevron-down h-4 w-4 text-muted-foreground"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- @END_COMPONENT: TopNavbar -->

            <!-- @COMPONENT: MainDashboard [primary dashboard view with map and fleet statistics] -->
            <main class="flex-1 overflow-y-auto">
                <div class="py-6">
                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <!-- Page header -->
                        <div class="md:flex md:items-center md:justify-between">
                            <div class="flex-1 min-w-0">
                                <h2 class="text-2xl font-bold leading-7 text-foreground sm:text-3xl sm:truncate">
                                    Fleet Dashboard
                                </h2>
                                <p class="mt-1 text-sm text-muted-foreground">
                                    Real-time monitoring of <span data-bind="fleet.totalUnits">127</span> mobile sanitation units across Nairobi
                                </p>
                            </div>
                            <div class="mt-4 flex md:mt-0 md:ml-4">
                                <button class="inline-flex items-center px-4 py-2 border border-input rounded-md shadow-sm text-sm font-medium text-foreground bg-background hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary">
                                    <i class="fas fa-download -ml-1 mr-2 h-4 w-4"></i>
                                    Export Report
                                </button>
                                <button class="ml-3 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-primary-foreground bg-primary hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary">
                                    <i class="fas fa-plus -ml-1 mr-2 h-4 w-4"></i>
                                    Add Unit
                                </button>
                            </div>
                        </div>

                        <!-- Alert Banner -->
                        <!-- @COMPONENT: AlertBanner [system-wide alerts and notifications] -->
                        <div class="mt-6 bg-amber-50 border-l-4 border-amber-400 p-4 rounded-md">
                            <div class="flex">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-exclamation-triangle h-5 w-5 text-amber-400"></i>
                                </div>
                                <div class="ml-3">
                                    <p class="text-sm text-amber-700">
                                        <strong>3 units require immediate servicing</strong> — High fill levels detected in Westlands area.
                                        <a href="#" class="font-medium underline text-amber-700 hover:text-amber-600">View details</a>
                                    </p>
                                </div>
                            </div>
                        </div>
                        <!-- @END_COMPONENT: AlertBanner -->

                        <!-- Stats Overview -->
                        <!-- @COMPONENT: StatsOverview [key performance metrics cards] -->
                        <div class="mt-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4">
                            <div class="bg-card overflow-hidden shadow rounded-lg border border-border">
                                <div class="p-5">
                                    <div class="flex items-center">
                                        <div class="flex-shrink-0">
                                            <i class="fas fa-toilet h-6 w-6 text-primary"></i>
                                        </div>
                                        <div class="ml-5 w-0 flex-1">
                                            <dl>
                                                <dt class="text-sm font-medium text-muted-foreground truncate">Active Units</dt>
                                                <dd class="text-lg font-medium text-foreground" data-bind="stats.activeUnits">119</dd>
                                            </dl>
                                        </div>
                                    </div>
                                </div>
                                <div class="bg-muted px-5 py-3">
                                    <div class="text-sm">
                                        <span class="text-accent font-medium">+2.1%</span>
                                        <span class="text-muted-foreground">from yesterday</span>
                                    </div>
                                </div>
                            </div>

                            <div class="bg-card overflow-hidden shadow rounded-lg border border-border">
                                <div class="p-5">
                                    <div class="flex items-center">
                                        <div class="flex-shrink-0">
                                            <i class="fas fa-exclamation-circle h-6 w-6 text-amber-500"></i>
                                        </div>
                                        <div class="ml-5 w-0 flex-1">
                                            <dl>
                                                <dt class="text-sm font-medium text-muted-foreground truncate">Needs Service</dt>
                                                <dd class="text-lg font-medium text-foreground" data-bind="stats.needsService">8</dd>
                                            </dl>
                                        </div>
                                    </div>
                                </div>
                                <div class="bg-muted px-5 py-3">
                                    <div class="text-sm">
                                        <span class="text-destructive font-medium">3 urgent</span>
                                        <span class="text-muted-foreground">require attention</span>
                                    </div>
                                </div>
                            </div>

                            <div class="bg-card overflow-hidden shadow rounded-lg border border-border">
                                <div class="p-5">
                                    <div class="flex items-center">
                                        <div class="flex-shrink-0">
                                            <i class="fas fa-chart-line h-6 w-6 text-accent"></i>
                                        </div>
                                        <div class="ml-5 w-0 flex-1">
                                            <dl>
                                                <dt class="text-sm font-medium text-muted-foreground truncate">Today's Revenue</dt>
                                                <dd class="text-lg font-medium text-foreground" data-bind="stats.revenue">KSh 24,350</dd>
                                            </dl>
                                        </div>
                                    </div>
                                </div>
                                <div class="bg-muted px-5 py-3">
                                    <div class="text-sm">
                                        <span class="text-accent font-medium">+12.3%</span>
                                        <span class="text-muted-foreground">vs last week</span>
                                    </div>
                                </div>
                            </div>

                            <div class="bg-card overflow-hidden shadow rounded-lg border border-border">
                                <div class="p-5">
                                    <div class="flex items-center">
                                        <div class="flex-shrink-0">
                                            <i class="fas fa-users h-6 w-6 text-blue-500"></i>
                                        </div>
                                        <div class="ml-5 w-0 flex-1">
                                            <dl>
                                                <dt class="text-sm font-medium text-muted-foreground truncate">Active Bookings</dt>
                                                <dd class="text-lg font-medium text-foreground" data-bind="stats.activeBookings">42</dd>
                                            </dl>
                                        </div>
                                    </div>
                                </div>
                                <div class="bg-muted px-5 py-3">
                                    <div class="text-sm">
                                        <span class="text-muted-foreground">14 pending</span>
                                        <span class="text-muted-foreground">payment</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- @END_COMPONENT: StatsOverview -->

                        <!-- Main Content Grid -->
                        <div class="mt-8 grid grid-cols-1 lg:grid-cols-3 gap-6">
                            <!-- Fleet Map -->
                            <!-- @COMPONENT: FleetMap [interactive map showing unit locations and status] -->
                            <div class="lg:col-span-2">
                                <div class="bg-card shadow rounded-lg border border-border">
                                    <div class="px-4 py-5 sm:p-6">
                                        <div class="flex items-center justify-between mb-4">
                                            <h3 class="text-lg leading-6 font-medium text-foreground">Fleet Overview</h3>
                                            <div class="flex space-x-2">
                                                <button class="px-3 py-1 text-xs font-medium rounded-full bg-accent text-accent-foreground">
                                                    All Units
                                                </button>
                                                <button class="px-3 py-1 text-xs font-medium rounded-full bg-secondary text-secondary-foreground">
                                                    Service Routes
                                                </button>
                                            </div>
                                        </div>
                                        <!-- Map Container -->
                                        <div class="h-96 bg-muted rounded-lg relative overflow-hidden" id="fleet-map">
                                            <!-- Placeholder for interactive map -->
                                            <!-- Map will show clustered markers for unit locations with status indicators -->
                                            <div class="absolute inset-0 flex items-center justify-center text-muted-foreground">
                                                <div class="text-center">
                                                    <i class="fas fa-map-marked-alt text-4xl mb-4"></i>
                                                    <p>Interactive Fleet Map</p>
                                                    <p class="text-sm">Showing 119 active units</p>
                                                </div>
                                            </div>
                                            <!-- Map Legend -->
                                            <div class="absolute top-4 right-4 bg-card border border-border rounded-lg p-3 shadow-lg">
                                                <div class="text-xs font-medium text-foreground mb-2">Status Legend</div>
                                                <div class="space-y-1">
                                                    <div class="flex items-center">
                                                        <div class="w-3 h-3 bg-accent rounded-full mr-2"></div>
                                                        <span class="text-xs text-muted-foreground">Available (0-60%)</span>
                                                    </div>
                                                    <div class="flex items-center">
                                                        <div class="w-3 h-3 bg-amber-500 rounded-full mr-2"></div>
                                                        <span class="text-xs text-muted-foreground">Filling (60-85%)</span>
                                                    </div>
                                                    <div class="flex items-center">
                                                        <div class="w-3 h-3 bg-destructive rounded-full mr-2"></div>
                                                        <span class="text-xs text-muted-foreground">Full (85%+)</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- @END_COMPONENT: FleetMap -->

                            <!-- Right Sidebar - Alerts and Quick Actions -->
                            <div class="space-y-6">
                                <!-- Priority Alerts -->
                                <!-- @COMPONENT: PriorityAlerts [urgent notifications requiring immediate attention] -->
                                <div class="bg-card shadow rounded-lg border border-border">
                                    <div class="px-4 py-5 sm:p-6">
                                        <h3 class="text-lg leading-6 font-medium text-foreground mb-4">Priority Alerts</h3>
                                        <div class="space-y-3">
                                            <!-- @MAP: priorityAlerts.map(alert => ( -->
                                            <div class="flex items-start space-x-3 p-3 bg-red-50 border-l-4 border-destructive rounded-md">
                                                <i class="fas fa-exclamation-triangle h-5 w-5 text-destructive mt-0.5"></i>
                                                <div class="flex-1">
                                                    <p class="text-sm font-medium text-destructive">Unit SSN-045 at 94% capacity</p>
                                                    <p class="text-xs text-muted-foreground mt-1">Westlands, Nairobi • 15 mins ago</p>
                                                </div>
                                            </div>
                                            
                                            <div class="flex items-start space-x-3 p-3 bg-amber-50 border-l-4 border-amber-400 rounded-md">
                                                <i class="fas fa-wrench h-5 w-5 text-amber-600 mt-0.5"></i>
                                                <div class="flex-1">
                                                    <p class="text-sm font-medium text-amber-800">Maintenance due: Unit SSN-023</p>
                                                    <p class="text-xs text-muted-foreground mt-1">Karen, Nairobi • Overdue by 2 days</p>
                                                </div>
                                            </div>

                                            <div class="flex items-start space-x-3 p-3 bg-blue-50 border-l-4 border-primary rounded-md">
                                                <i class="fas fa-wifi h-5 w-5 text-primary mt-0.5"></i>
                                                <div class="flex-1">
                                                    <p class="text-sm font-medium text-primary">Unit SSN-078 offline</p>
                                                    <p class="text-xs text-muted-foreground mt-1">Kilimani, Nairobi • Last seen 2 hours ago</p>
                                                </div>
                                            </div>
                                            <!-- @END_MAP -->
                                        </div>
                                    </div>
                                </div>
                                <!-- @END_COMPONENT: PriorityAlerts -->

                                <!-- Today's Routes -->
                                <!-- @COMPONENT: TodaysRoutes [optimized service routes for field staff] -->
                                <div class="bg-card shadow rounded-lg border border-border">
                                    <div class="px-4 py-5 sm:p-6">
                                        <div class="flex items-center justify-between mb-4">
                                            <h3 class="text-lg leading-6 font-medium text-foreground">Today's Routes</h3>
                                            <button class="text-sm text-primary hover:text-primary/80 font-medium">
                                                Optimize All
                                            </button>
                                        </div>
                                        <div class="space-y-4">
                                            <!-- @MAP: routes.map(route => ( -->
                                            <div class="border border-border rounded-lg p-4">
                                                <div class="flex items-center justify-between mb-2">
                                                    <div class="flex items-center">
                                                        <div class="w-8 h-8 bg-primary rounded-full flex items-center justify-center text-primary-foreground text-sm font-medium">
                                                            R1
                                                        </div>
                                                        <div class="ml-3">
                                                            <p class="text-sm font-medium text-foreground" data-bind="route.name">Route Alpha</p>
                                                            <p class="text-xs text-muted-foreground" data-bind="route.driver">Driver: Peter Kamau</p>
                                                        </div>
                                                    </div>
                                                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-accent text-accent-foreground">
                                                        In Progress
                                                    </span>
                                                </div>
                                                <div class="grid grid-cols-2 gap-4 text-sm">
                                                    <div>
                                                        <span class="text-muted-foreground">Units:</span>
                                                        <span class="ml-1 font-medium" data-bind="route.unitCount">8</span>
                                                    </div>
                                                    <div>
                                                        <span class="text-muted-foreground">ETA:</span>
                                                        <span class="ml-1 font-medium" data-bind="route.eta">2:30 PM</span>
                                                    </div>
                                                </div>
                                                <div class="mt-2">
                                                    <div class="w-full bg-muted rounded-full h-2">
                                                        <div class="bg-accent h-2 rounded-full" style="width: 62%"></div>
                                                    </div>
                                                    <p class="text-xs text-muted-foreground mt-1">5 of 8 units completed</p>
                                                </div>
                                            </div>

                                            <div class="border border-border rounded-lg p-4">
                                                <div class="flex items-center justify-between mb-2">
                                                    <div class="flex items-center">
                                                        <div class="w-8 h-8 bg-secondary rounded-full flex items-center justify-center text-secondary-foreground text-sm font-medium">
                                                            R2
                                                        </div>
                                                        <div class="ml-3">
                                                            <p class="text-sm font-medium text-foreground">Route Bravo</p>
                                                            <p class="text-xs text-muted-foreground">Driver: Mary Wanjiku</p>
                                                        </div>
                                                    </div>
                                                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-secondary text-secondary-foreground">
                                                        Scheduled
                                                    </span>
                                                </div>
                                                <div class="grid grid-cols-2 gap-4 text-sm">
                                                    <div>
                                                        <span class="text-muted-foreground">Units:</span>
                                                        <span class="ml-1 font-medium">12</span>
                                                    </div>
                                                    <div>
                                                        <span class="text-muted-foreground">Start:</span>
                                                        <span class="ml-1 font-medium">3:00 PM</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- @END_MAP -->
                                        </div>
                                    </div>
                                </div>
                                <!-- @END_COMPONENT: TodaysRoutes -->
                            </div>
                        </div>

                        <!-- Bottom Section - Detailed Tables and Analytics -->
                        <div class="mt-8 grid grid-cols-1 lg:grid-cols-2 gap-6">
                            <!-- Recent Bookings -->
                            <!-- @COMPONENT: RecentBookings [table of latest customer bookings] -->
                            <div class="bg-card shadow rounded-lg border border-border">
                                <div class="px-4 py-5 sm:p-6">
                                    <div class="flex items-center justify-between mb-4">
                                        <h3 class="text-lg leading-6 font-medium text-foreground">Recent Bookings</h3>
                                        <a href="#" class="text-sm text-primary hover:text-primary/80 font-medium">View all</a>
                                    </div>
                                    <div class="overflow-x-auto">
                                        <table class="min-w-full divide-y divide-border">
                                            <thead>
                                                <tr>
                                                    <th class="px-3 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider">
                                                        Customer
                                                    </th>
                                                    <th class="px-3 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider">
                                                        Location
                                                    </th>
                                                    <th class="px-3 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider">
                                                        Amount
                                                    </th>
                                                    <th class="px-3 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider">
                                                        Status
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody class="divide-y divide-border">
                                                <!-- @MAP: bookings.map(booking => ( -->
                                                <tr data-mock="true">
                                                    <td class="px-3 py-4 whitespace-nowrap text-sm text-foreground">
                                                        <div class="flex items-center">
                                                            <div class="h-8 w-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground text-xs font-medium">
                                                                JK
                                                            </div>
                                                            <div class="ml-3">
                                                                <p class="font-medium">John Kimani</p>
                                                                <p class="text-muted-foreground text-xs">+254 712 345 678</p>
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td class="px-3 py-4 whitespace-nowrap text-sm text-muted-foreground">
                                                        Westlands
                                                    </td>
                                                    <td class="px-3 py-4 whitespace-nowrap text-sm font-medium text-foreground">
                                                        KSh 500
                                                    </td>
                                                    <td class="px-3 py-4 whitespace-nowrap">
                                                        <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-accent text-accent-foreground">
                                                            Confirmed
                                                        </span>
                                                    </td>
                                                </tr>
                                                <tr data-mock="true">
                                                    <td class="px-3 py-4 whitespace-nowrap text-sm text-foreground">
                                                        <div class="flex items-center">
                                                            <div class="h-8 w-8 rounded-full bg-purple-500 flex items-center justify-center text-white text-xs font-medium">
                                                                GW
                                                            </div>
                                                            <div class="ml-3">
                                                                <p class="font-medium">Grace Wanjiru</p>
                                                                <p class="text-muted-foreground text-xs">+254 723 456 789</p>
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td class="px-3 py-4 whitespace-nowrap text-sm text-muted-foreground">
                                                        Kilimani
                                                    </td>
                                                    <td class="px-3 py-4 whitespace-nowrap text-sm font-medium text-foreground">
                                                        KSh 750
                                                    </td>
                                                    <td class="px-3 py-4 whitespace-nowrap">
                                                        <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-amber-100 text-amber-800">
                                                            Pending Payment
                                                        </span>
                                                    </td>
                                                </tr>
                                                <tr data-mock="true">
                                                    <td class="px-3 py-4 whitespace-nowrap text-sm text-foreground">
                                                        <div class="flex items-center">
                                                            <div class="h-8 w-8 rounded-full bg-green-500 flex items-center justify-center text-white text-xs font-medium">
                                                                SM
                                                            </div>
                                                            <div class="ml-3">
                                                                <p class="font-medium">Samuel Mutai</p>
                                                                <p class="text-muted-foreground text-xs">+254 734 567 890</p>
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td class="px-3 py-4 whitespace-nowrap text-sm text-muted-foreground">
                                                        Karen
                                                    </td>
                                                    <td class="px-3 py-4 whitespace-nowrap text-sm font-medium text-foreground">
                                                        KSh 1,200
                                                    </td>
                                                    <td class="px-3 py-4 whitespace-nowrap">
                                                        <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-accent text-accent-foreground">
                                                            Completed
                                                        </span>
                                                    </td>
                                                </tr>
                                                <!-- @END_MAP -->
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <!-- @END_COMPONENT: RecentBookings -->

                            <!-- Fleet Performance Chart -->
                            <!-- @COMPONENT: FleetPerformance [utilization and performance metrics visualization] -->
                            <div class="bg-card shadow rounded-lg border border-border">
                                <div class="px-4 py-5 sm:p-6">
                                    <h3 class="text-lg leading-6 font-medium text-foreground mb-4">Fleet Performance</h3>
                                    <div class="space-y-4">
                                        <!-- Utilization Rate -->
                                        <div>
                                            <div class="flex justify-between text-sm mb-1">
                                                <span class="text-muted-foreground">Average Utilization</span>
                                                <span class="font-medium text-foreground" data-bind="performance.utilization">73%</span>
                                            </div>
                                            <div class="w-full bg-muted rounded-full h-2">
                                                <div class="bg-primary h-2 rounded-full" style="width: 73%"></div>
                                            </div>
                                        </div>
                                        
                                        <!-- Service Efficiency -->
                                        <div>
                                            <div class="flex justify-between text-sm mb-1">
                                                <span class="text-muted-foreground">Service Efficiency</span>
                                                <span class="font-medium text-foreground" data-bind="performance.efficiency">85%</span>
                                            </div>
                                            <div class="w-full bg-muted rounded-full h-2">
                                                <div class="bg-accent h-2 rounded-full" style="width: 85%"></div>
                                            </div>
                                        </div>

                                        <!-- Revenue Chart Container -->
                                        <div class="mt-6">
                                            <canvas id="revenueChart" width="400" height="200"></canvas>
                                        </div>

                                        <!-- Quick Stats -->
                                        <div class="grid grid-cols-2 gap-4 mt-6">
                                            <div class="text-center">
                                                <div class="text-2xl font-bold text-foreground" data-bind="performance.avgTripsPerDay">24</div>
                                                <div class="text-xs text-muted-foreground">Avg trips/day</div>
                                            </div>
                                            <div class="text-center">
                                                <div class="text-2xl font-bold text-foreground" data-bind="performance.avgResponseTime">18m</div>
                                                <div class="text-xs text-muted-foreground">Response time</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- @END_COMPONENT: FleetPerformance -->
                        </div>

                        <!-- Unit Status Table -->
                        <!-- @COMPONENT: UnitStatusTable [detailed unit information and telemetry] -->
                        <div class="mt-8">
                            <div class="bg-card shadow rounded-lg border border-border">
                                <div class="px-4 py-5 sm:p-6">
                                    <div class="flex items-center justify-between mb-4">
                                        <h3 class="text-lg leading-6 font-medium text-foreground">Unit Status Overview</h3>
                                        <div class="flex space-x-2">
                                            <select class="border border-input rounded-md text-sm py-1 px-3 bg-background text-foreground focus:ring-2 focus:ring-primary focus:border-transparent">
                                                <option>All Locations</option>
                                                <option>Westlands</option>
                                                <option>Kilimani</option>
                                                <option>Karen</option>
                                            </select>
                                            <select class="border border-input rounded-md text-sm py-1 px-3 bg-background text-foreground focus:ring-2 focus:ring-primary focus:border-transparent">
                                                <option>All Status</option>
                                                <option>Active</option>
                                                <option>Needs Service</option>
                                                <option>Maintenance</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="overflow-x-auto">
                                        <table class="min-w-full divide-y divide-border">
                                            <thead>
                                                <tr>
                                                    <th class="px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider">
                                                        Unit ID
                                                    </th>
                                                    <th class="px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider">
                                                        Location
                                                    </th>
                                                    <th class="px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider">
                                                        Fill Level
                                                    </th>
                                                    <th class="px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider">
                                                        Last Service
                                                    </th>
                                                    <th class="px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider">
                                                        Status
                                                    </th>
                                                    <th class="px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider">
                                                        Actions
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody class="divide-y divide-border">
                                                <!-- @MAP: units.map(unit => ( -->
                                                <tr data-mock="true" class="hover:bg-muted">
                                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-foreground">
                                                        SSN-045
                                                    </td>
                                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-muted-foreground">
                                                        <i class="fas fa-map-marker-alt mr-1"></i>
                                                        Westlands Mall
                                                    </td>
                                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-foreground">
                                                        <div class="flex items-center">
                                                            <div class="w-full bg-muted rounded-full h-2 mr-3">
                                                                <div class="bg-destructive h-2 rounded-full" style="width: 94%"></div>
                                                            </div>
                                                            <span class="font-medium text-destructive">94%</span>
                                                        </div>
                                                    </td>
                                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-muted-foreground">
                                                        2 hours ago
                                                    </td>
                                                    <td class="px-6 py-4 whitespace-nowrap">
                                                        <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800">
                                                            <i class="fas fa-exclamation-circle mr-1"></i>
                                                            Urgent
                                                        </span>
                                                    </td>
                                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                                        <button class="text-primary hover:text-primary/80 mr-2" data-event="click:scheduleService">
                                                            <i class="fas fa-calendar-plus"></i>
                                                        </button>
                                                        <button class="text-muted-foreground hover:text-foreground" data-event="click:viewDetails">
                                                            <i class="fas fa-info-circle"></i>
                                                        </button>
                                                    </td>
                                                </tr>
                                                
                                                <tr data-mock="true" class="hover:bg-muted">
                                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-foreground">
                                                        SSN-023
                                                    </td>
                                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-muted-foreground">
                                                        <i class="fas fa-map-marker-alt mr-1"></i>
                                                        Karen Shopping Center
                                                    </td>
                                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-foreground">
                                                        <div class="flex items-center">
                                                            <div class="w-full bg-muted rounded-full h-2 mr-3">
                                                                <div class="bg-amber-500 h-2 rounded-full" style="width: 67%"></div>
                                                            </div>
                                                            <span class="font-medium text-amber-600">67%</span>
                                                        </div>
                                                    </td>
                                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-muted-foreground">
                                                        5 hours ago
                                                    </td>
                                                    <td class="px-6 py-4 whitespace-nowrap">
                                                        <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-amber-100 text-amber-800">
                                                            <i class="fas fa-wrench mr-1"></i>
                                                            Maintenance Due
                                                        </span>
                                                    </td>
                                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                                        <button class="text-primary hover:text-primary/80 mr-2">
                                                            <i class="fas fa-calendar-plus"></i>
                                                        </button>
                                                        <button class="text-muted-foreground hover:text-foreground">
                                                            <i class="fas fa-info-circle"></i>
                                                        </button>
                                                    </td>
                                                </tr>

                                                <tr data-mock="true" class="hover:bg-muted">
                                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-foreground">
                                                        SSN-078
                                                    </td>
                                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-muted-foreground">
                                                        <i class="fas fa-map-marker-alt mr-1"></i>
                                                        Kilimani Plaza
                                                    </td>
                                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-foreground">
                                                        <div class="flex items-center">
                                                            <div class="w-full bg-muted rounded-full h-2 mr-3">
                                                                <div class="bg-accent h-2 rounded-full" style="width: 45%"></div>
                                                            </div>
                                                            <span class="font-medium text-accent">45%</span>
                                                        </div>
                                                    </td>
                                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-muted-foreground">
                                                        1 hour ago
                                                    </td>
                                                    <td class="px-6 py-4 whitespace-nowrap">
                                                        <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800">
                                                            <i class="fas fa-wifi-slash mr-1"></i>
                                                            Offline
                                                        </span>
                                                    </td>
                                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                                        <button class="text-primary hover:text-primary/80 mr-2">
                                                            <i class="fas fa-calendar-plus"></i>
                                                        </button>
                                                        <button class="text-muted-foreground hover:text-foreground">
                                                            <i class="fas fa-info-circle"></i>
                                                        </button>
                                                    </td>
                                                </tr>
                                                <!-- @END_MAP -->
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <!-- @END_COMPONENT: UnitStatusTable -->
                        </div>

                        <!-- Customer Booking Portal Section -->
                        <!-- @COMPONENT: CustomerBookingPortal [public-facing booking interface] -->
                        <div class="mt-8 bg-gradient-to-r from-primary to-blue-600 rounded-lg shadow-lg">
                            <div class="px-6 py-8 text-center">
                                <h2 class="text-2xl font-bold text-primary-foreground mb-4">Customer Booking Portal</h2>
                                <p class="text-primary-foreground/90 mb-6">Book mobile sanitation services instantly with M-Pesa payment</p>
                                
                                <div class="max-w-4xl mx-auto bg-card rounded-lg p-6 text-left">
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <!-- Booking Form -->
                                        <div>
                                            <h3 class="text-lg font-semibold text-foreground mb-4">Service Booking</h3>
                                            <form class="space-y-4">
                                                <div>
                                                    <label class="block text-sm font-medium text-foreground mb-2">Service Type</label>
                                                    <select class="w-full border border-input rounded-md py-2 px-3 bg-background text-foreground focus:ring-2 focus:ring-primary focus:border-transparent">
                                                        <option>Standard Cleaning</option>
                                                        <option>Deep Sanitization</option>
                                                        <option>Event Package</option>
                                                        <option>Construction Site Package</option>
                                                    </select>
                                                </div>
                                                
                                                <div class="grid grid-cols-2 gap-4">
                                                    <div>
                                                        <label class="block text-sm font-medium text-foreground mb-2">Date</label>
                                                        <input type="date" class="w-full border border-input rounded-md py-2 px-3 bg-background text-foreground focus:ring-2 focus:ring-primary focus:border-transparent" data-mock="true" value="2024-01-15">
                                                    </div>
                                                    <div>
                                                        <label class="block text-sm font-medium text-foreground mb-2">Time</label>
                                                        <select class="w-full border border-input rounded-md py-2 px-3 bg-background text-foreground focus:ring-2 focus:ring-primary focus:border-transparent">
                                                            <option>8:00 AM</option>
                                                            <option>10:00 AM</option>
                                                            <option>2:00 PM</option>
                                                            <option>4:00 PM</option>
                                                        </select>
                                                    </div>
                                                </div>

                                                <div>
                                                    <label class="block text-sm font-medium text-foreground mb-2">Location</label>
                                                    <input type="text" placeholder="Enter address or landmark" class="w-full border border-input rounded-md py-2 px-3 bg-background text-foreground placeholder-muted-foreground focus:ring-2 focus:ring-primary focus:border-transparent" data-mock="true" value="Westlands, Nairobi">
                                                </div>

                                                <div>
                                                    <label class="block text-sm font-medium text-foreground mb-2">Contact Number</label>
                                                    <input type="tel" placeholder="+254 7XX XXX XXX" class="w-full border border-input rounded-md py-2 px-3 bg-background text-foreground placeholder-muted-foreground focus:ring-2 focus:ring-primary focus:border-transparent" data-mock="true" value="+254 712 345 678">
                                                </div>
                                            </form>
                                        </div>

                                        <!-- Pricing and Payment -->
                                        <div>
                                            <h3 class="text-lg font-semibold text-foreground mb-4">Service Summary</h3>
                                            <div class="bg-muted rounded-lg p-4 mb-4">
                                                <div class="flex justify-between items-center mb-2">
                                                    <span class="text-sm text-muted-foreground">Service Fee</span>
                                                    <span class="font-medium text-foreground">KSh 500</span>
                                                </div>
                                                <div class="flex justify-between items-center mb-2">
                                                    <span class="text-sm text-muted-foreground">Platform Fee</span>
                                                    <span class="font-medium text-foreground">KSh 25</span>
                                                </div>
                                                <hr class="my-2 border-border">
                                                <div class="flex justify-between items-center">
                                                    <span class="font-semibold text-foreground">Total</span>
                                                    <span class="text-xl font-bold text-primary" data-bind="booking.total">KSh 525</span>
                                                </div>
                                            </div>

                                            <!-- M-Pesa Payment Section -->
                                            <div class="border border-border rounded-lg p-4 mb-4">
                                                <div class="flex items-center mb-3">
                                                    <div class="w-8 h-8 bg-green-600 rounded flex items-center justify-center mr-3">
                                                        <i class="fas fa-mobile-alt text-white"></i>
                                                    </div>
                                                    <div>
                                                        <h4 class="font-medium text-foreground">M-Pesa Payment</h4>
                                                        <p class="text-xs text-muted-foreground">Secure mobile money payment</p>
                                                    </div>
                                                </div>
                                                <div class="space-y-2">
                                                    <input type="tel" placeholder="Enter M-Pesa number" class="w-full border border-input rounded-md py-2 px-3 bg-background text-foreground placeholder-muted-foreground focus:ring-2 focus:ring-primary focus:border-transparent">
                                                </div>
                                            </div>

                                            <button class="w-full bg-primary hover:bg-primary/90 text-primary-foreground font-medium py-3 px-4 rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary" data-event="click:processBooking">
                                                <i class="fas fa-credit-card mr-2"></i>
                                                Book & Pay Now
                                            </button>

                                            <p class="text-xs text-muted-foreground mt-3 text-center">
                                                You will receive an M-Pesa prompt to complete payment
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- @END_COMPONENT: CustomerBookingPortal -->

                        <!-- Route Planning Section -->
                        <!-- @COMPONENT: RoutePlanning [AI-powered route optimization interface] -->
                        <div class="mt-8">
                            <div class="bg-card shadow rounded-lg border border-border">
                                <div class="px-4 py-5 sm:p-6">
                                    <div class="flex items-center justify-between mb-6">
                                        <div>
                                            <h3 class="text-lg leading-6 font-medium text-foreground">Route Planning</h3>
                                            <p class="text-sm text-muted-foreground">AI-optimized service routes for maximum efficiency</p>
                                        </div>
                                        <button class="inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-primary-foreground bg-primary hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary" data-event="click:generateRoutes">
                                            <i class="fas fa-route -ml-1 mr-2 h-4 w-4"></i>
                                            Generate New Routes
                                        </button>
                                    </div>

                                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                                        <!-- Route Configuration -->
                                        <div>
                                            <h4 class="font-medium text-foreground mb-4">Route Configuration</h4>
                                            <div class="space-y-4">
                                                <div class="grid grid-cols-2 gap-4">
                                                    <div>
                                                        <label class="block text-sm font-medium text-foreground mb-2">Start Time</label>
                                                        <input type="time" class="w-full border border-input rounded-md py-2 px-3 bg-background text-foreground focus:ring-2 focus:ring-primary focus:border-transparent" data-mock="true" value="08:00">
                                                    </div>
                                                    <div>
                                                        <label class="block text-sm font-medium text-foreground mb-2">End Time</label>
                                                        <input type="time" class="w-full border border-input rounded-md py-2 px-3 bg-background text-foreground focus:ring-2 focus:ring-primary focus:border-transparent" data-mock="true" value="17:00">
                                                    </div>
                                                </div>
                                                
                                                <div>
                                                    <label class="block text-sm font-medium text-foreground mb-2">Priority Filter</label>
                                                    <div class="flex space-x-2">
                                                        <label class="inline-flex items-center">
                                                            <input type="checkbox" class="rounded border-input text-primary focus:ring-primary" checked>
                                                            <span class="ml-2 text-sm text-foreground">High Fill (>80%)</span>
                                                        </label>
                                                        <label class="inline-flex items-center">
                                                            <input type="checkbox" class="rounded border-input text-primary focus:ring-primary" checked>
                                                            <span class="ml-2 text-sm text-foreground">Maintenance Due</span>
                                                        </label>
                                                    </div>
                                                </div>

                                                <div>
                                                    <label class="block text-sm font-medium text-foreground mb-2">Maximum Distance</label>
                                                    <select class="w-full border border-input rounded-md py-2 px-3 bg-background text-foreground focus:ring-2 focus:ring-primary focus:border-transparent">
                                                        <option>50 km radius</option>
                                                        <option>75 km radius</option>
                                                        <option>100 km radius</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Generated Routes Preview -->
                                        <div>
                                            <h4 class="font-medium text-foreground mb-4">Optimized Routes</h4>
                                            <div class="space-y-3">
                                                <!-- @MAP: optimizedRoutes.map(route => ( -->
                                                <div class="border border-border rounded-lg p-4" data-mock="true">
                                                    <div class="flex items-center justify-between mb-2">
                                                        <div class="flex items-center">
                                                            <div class="w-6 h-6 bg-primary rounded-full flex items-center justify-center text-primary-foreground text-xs font-bold">
                                                                1
                                                            </div>
                                                            <span class="ml-2 font-medium text-foreground">Priority Route</span>
                                                        </div>
                                                        <span class="text-xs text-muted-foreground">Est. 3.5 hours</span>
                                                    </div>
                                                    <div class="text-sm text-muted-foreground mb-2">
                                                        <i class="fas fa-map-marked-alt mr-1"></i>
                                                        8 units • Westlands → Kilimani → Karen
                                                    </div>
                                                    <div class="flex justify-between text-xs">
                                                        <span class="text-muted-foreground">Distance: 24.5 km</span>
                                                        <span class="text-accent font-medium">Efficiency: 94%</span>
                                                    </div>
                                                </div>

                                                <div class="border border-border rounded-lg p-4" data-mock="true">
                                                    <div class="flex items-center justify-between mb-2">
                                                        <div class="flex items-center">
                                                            <div class="w-6 h-6 bg-secondary rounded-full flex items-center justify-center text-secondary-foreground text-xs font-bold">
                                                                2
                                                            </div>
                                                            <span class="ml-2 font-medium text-foreground">Standard Route</span>
                                                        </div>
                                                        <span class="text-xs text-muted-foreground">Est. 4.2 hours</span>
                                                    </div>
                                                    <div class="text-sm text-muted-foreground mb-2">
                                                        <i class="fas fa-map-marked-alt mr-1"></i>
                                                        12 units • CBD → Eastlands → Embakasi
                                                    </div>
                                                    <div class="flex justify-between text-xs">
                                                        <span class="text-muted-foreground">Distance: 31.2 km</span>
                                                        <span class="text-accent font-medium">Efficiency: 87%</span>
                                                    </div>
                                                </div>
                                                <!-- @END_MAP -->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- @END_COMPONENT: RoutePlanning -->
                    </div>
                </div>
            </main>
        </div>
    </div>
    <!-- @END_COMPONENT: MainLayout -->

    <!-- Mobile Navigation Overlay (hidden by default) -->
    <!-- @COMPONENT: MobileNav [responsive navigation overlay for mobile devices] -->
    <div class="fixed inset-0 flex z-40 lg:hidden hidden" id="mobile-menu">
        <div class="fixed inset-0 bg-gray-600 bg-opacity-75"></div>
        <div class="relative flex-1 flex flex-col max-w-xs w-full bg-card">
            <div class="absolute top-0 right-0 -mr-12 pt-2">
                <button class="ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white">
                    <i class="fas fa-times h-6 w-6 text-white"></i>
                </button>
            </div>
            <div class="flex-1 h-0 pt-5 pb-4 overflow-y-auto">
                <div class="flex-shrink-0 flex items-center px-4">
                    <div class="w-8 h-8 bg-primary rounded-lg flex items-center justify-center">
                        <i class="fas fa-toilet text-primary-foreground"></i>
                    </div>
                    <span class="ml-3 text-xl font-semibold text-foreground">SmartSan</span>
                </div>
                <nav class="mt-5 px-2 space-y-1">
                    <!-- Mobile navigation items mirror desktop sidebar -->
                    <a href="#" class="bg-accent text-accent-foreground group flex items-center px-2 py-2 text-base font-medium rounded-md">
                        <i class="fas fa-tachometer-alt mr-4 flex-shrink-0 h-6 w-6"></i>
                        Dashboard
                    </a>
                    <!-- Additional mobile nav items... -->
                </nav>
            </div>
        </div>
    </div>
    <!-- @END_COMPONENT: MobileNav -->

    <script>
        // Initialize Chart.js for revenue visualization
        (function() {
            const ctx = document.getElementById('revenueChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                    datasets: [{
                        label: 'Daily Revenue (KSh)',
                        data: [18500, 22100, 19800, 24350, 21700, 28900, 26200],
                        borderColor: 'hsl(221.2 83.2% 53.3%)',
                        backgroundColor: 'hsla(221.2, 83.2%, 53.3%, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return 'KSh ' + value.toLocaleString();
                                }
                            }
                        }
                    }
                }
            });
        })();

        // Mobile menu toggle functionality
        // TODO: Implement proper state management for mobile navigation
        
        // Real-time data updates simulation
        // TODO: Implement WebSocket connection for real-time telemetry updates
        
        // Map initialization (placeholder)
        // TODO: Initialize Leaflet map with real unit locations and clustering
        
        // Form validation and submission handlers
        // TODO: Implement form validation, API calls, and M-Pesa integration
    </script>
</body>
</html>